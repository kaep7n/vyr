syntax = "proto3";

import "google/protobuf/any.proto";

package pubSub;

service Broker {

  rpc Subscribe(Subscription) returns (Subscription) {}

  rpc Attach(Subscription) returns (stream Message) {}

  rpc Unsubscribe(Subscription) returns (Subscription) {}

  rpc Publish(Message) returns (Message) {}
}

message Subscription {
	string clientId = 1;
	repeated string topics = 2;
}

message Message {
	string topic = 1;
    google.protobuf.Any content = 2;
}